<div class="row">
  <div class="col-md-6 col-sm-8">
    <div class="card">
      <div class="card-header card-header-primary">
        <h4 class="card-title" *ngIf="customer$ | async">Edit Customer</h4>
        <h4 class="card-title" *ngIf="!(customer$ | async)">
          Add New Customer
        </h4>
      </div>

      <div class="card-body">
        <form #userForm="ngForm">
          <div class="form-group">
            <h3 class="h4 text-primary font-weight-bold">
              ID:
              <span *ngIf="customer.id">{{ customer.id }}</span>
              <span *ngIf="!customer.id">Auto-generated</span>
            </h3>
            <input type="hidden" name="id" [(ngModel)]="customer.id" required />
          </div>
          <div class="form-group">
            <label for="">Firstname:</label>
            <input
              [(ngModel)]="customer.firstName"
              name="firstname"
              type="text"
              class="form-control"
            />
          </div>
          <div class="form-group">
            <label for="">Lastname:</label>
            <input
              [(ngModel)]="customer.lastName"
              name="lastname"
              type="text"
              class="form-control"
            />
          </div>
          <div class="form-group">
            <label for="">Email:</label>
            <input
              [(ngModel)]="customer.email"
              name="email"
              type="email"
              class="form-control"
            />
          </div>

          <div class="form-group border border-secondary rounded p-3 pb-4 pt-4">
            <div>
              <h5>ADDRESS</h5>
            </div>
            <div class="row">
              <div class="col-4">
                <label for="">Zip:</label>
                <input
                  [(ngModel)]="customer.address.zip"
                  name="address"
                  type="text"
                  class="form-control"
                />
              </div>
              <div class="col-8">
                <label for="">Country:</label>
                <input
                  [(ngModel)]="customer.address.country"
                  name="address"
                  type="text"
                  class="form-control"
                />
              </div>
            </div>
            <div class="row">
              <div class="col-6">
                <label for="">City:</label>
                <input
                  [(ngModel)]="customer.address.city"
                  name="city"
                  type="text"
                  class="form-control"
                />
              </div>
              <div class="col-6">
                <label for="">Street:</label>
                <input
                  [(ngModel)]="customer.address.street"
                  name="street"
                  type="text"
                  class="form-control"
                />
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="notes">Notes:</label>
            <input
              [(ngModel)]="customer.address.notes"
              name="notes"
              type="text"
              class="form-control"
            />
          </div>

          <label>Active</label>
          <div class="form-check form-check-radio">
            <label class="form-check-label">
              <input
                [ngModel]="customer.active"
                class="form-check-input"
                type="radio"
                name="exampleRadios"
                id="exampleRadios1"
                value="true"
              />
              True
              <span class="circle">
                <span class="check"></span>
              </span>
            </label>
          </div>
          <div class="form-check form-check-radio">
            <label class="form-check-label">
              <input
                [ngModel]="customer.active"
                class="form-check-input"
                type="radio"
                name="exampleRadios"
                id="exampleRadios2"
                value="false"
                checked
              />
              False
              <span class="circle">
                <span class="check"></span>
              </span>
            </label>
          </div>

          <div class="text-right">
            <button
              [disabled]="userForm.invalid"
              *ngIf="customer$ | async"
              (click)="onUpdate(customer)"
              type="submit"
              class="btn btn-primary"
            >
              Update Customer
            </button>
            <button
              [disabled]="userForm.invalid"
              *ngIf="!(customer$ | async)"
              (click)="onCreate(customer)"
              type="submit"
              class="btn btn-primary"
            >
              Create Customer
            </button>
          </div>
        </form>
      </div>
    </div>

    {{ customer$ | async | json }}
  </div>
</div>
